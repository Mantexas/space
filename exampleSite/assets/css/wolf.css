/* Wolf Hero Animation - Creative Letter Interaction */

.wolf-hero {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 45vh;
  padding: 2rem 1.5rem 4rem;
  overflow: hidden;
  background: transparent; /* Assuming dark theme handles background */
}

.wolf-stage {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
  width: 100%;
  max-width: 1024px;
}

/* Title with individual letters */
.wolf-title {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0;
  margin: 0;
  font-weight: 600;
  font-size: clamp(2.5rem, calc(2rem + 4vw), 5rem);
  line-height: 1.1;
  letter-spacing: -0.02em;
  text-align: center;
  z-index: 1;
}

/* Each letter is interactive */
.letter {
  display: inline-block;
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1),
              color 0.3s ease;
  transform-origin: bottom center;
  will-change: transform;
  cursor: default;
  position: relative;
}

.letter-space {
  width: 0.3em;
}

/* Letter states - pressed when wolf steps on it */
.letter.pressed {
  transform: translateY(12px) scaleY(0.88) rotate(-2deg);
  color: var(--accent, #aaa);
}

/* Wolf sniffing a letter - letter tilts toward wolf */
.letter.sniffed {
  transform: translateY(-3px) rotate(8deg) scale(1.05);
  color: var(--accent, #fff);
}

/* Letter wobble when wolf jumps off */
.letter.wobble {
  animation: letterWobble 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes letterWobble {
  0% { transform: translateY(12px) scaleY(0.88); }
  25% { transform: translateY(-8px) scaleY(1.04) rotate(3deg); }
  50% { transform: translateY(3px) scaleY(0.98) rotate(-2deg); }
  75% { transform: translateY(-2px) scaleY(1.01) rotate(1deg); }
  100% { transform: translateY(0) scaleY(1) rotate(0deg); }
}

/* Letter springs up dramatically when wolf jumps over it */
.letter.spring {
  animation: letterSpring 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes letterSpring {
  0% { transform: translateY(0) scale(1); }
  15% { transform: translateY(5px) scale(0.95); }
  40% { transform: translateY(-15px) scale(1.08); }
  60% { transform: translateY(3px) scale(0.98); }
  80% { transform: translateY(-4px) scale(1.02); }
  100% { transform: translateY(0) scale(1); }
}

/* Letter shivers when wolf howls nearby */
.letter.shiver {
  animation: letterShiver 0.4s ease-in-out 3;
}

@keyframes letterShiver {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  75% { transform: translateX(3px); }
}

/* Wolf container - moves horizontally */
.wolf-container {
  position: absolute;
  top: 50%; /* Adjusted to align with text baseline roughly */
  transform: translateY(-85%); /* Move up to stand ON the letters */
  z-index: 10;
  pointer-events: none;
  left: -200px;
  will-change: left;
}

/* The Wolf Graphic */
.wolf {
  width: clamp(100px, 15vw, 160px);
  height: auto;
  filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.3));
  transition: transform 0.3s ease;
  will-change: transform;
}

/* --- Wolf Animation States --- */

/* Walking: Smooth lop/bob instead of steps */
.wolf-container.walking .wolf {
  animation: wolfWalk 0.8s ease-in-out infinite;
  transform-origin: center bottom;
}

@keyframes wolfWalk {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-3px) rotate(1.5deg); }
  50% { transform: translateY(0) rotate(0deg); }
  75% { transform: translateY(-3px) rotate(-1.5deg); }
}

/* Sniffing: Head down */
.wolf-container.sniffing .wolf {
  animation: wolfSniff 1.2s ease-in-out;
  transform-origin: center bottom;
}

@keyframes wolfSniff {
  0%, 100% { transform: rotate(0deg) translateY(0); }
  20% { transform: rotate(15deg) translateY(5px); }
  40% { transform: rotate(18deg) translateY(8px); }
  60% { transform: rotate(15deg) translateY(5px); }
}

/* Jumping: Parabolic arc */
.wolf-container.jumping .wolf {
  animation: wolfJump 0.9s cubic-bezier(0.45, 0.05, 0.55, 0.95);
}

@keyframes wolfJump {
  0% { transform: translateY(0) rotate(0deg); }
  10% { transform: translateY(10px) rotate(-5deg); /* Anticipation */ }
  40% { transform: translateY(-80px) rotate(-5deg); /* Apex */ }
  50% { transform: translateY(-90px) rotate(0deg); }
  60% { transform: translateY(-80px) rotate(5deg); }
  100% { transform: translateY(0) rotate(0deg); }
}

/* Howling: Head up, chest out */
.wolf-container.howling .wolf {
  animation: wolfHowl 2s ease-in-out;
  transform-origin: center bottom;
}

@keyframes wolfHowl {
  0%, 100% { transform: rotate(0deg) scale(1); }
  20% { transform: rotate(-15deg) scale(1.05) translateY(-5px); }
  50% { transform: rotate(-25deg) scale(1.1) translateY(-10px); }
  80% { transform: rotate(-15deg) scale(1.05) translateY(-5px); }
}

/* Cautious: Slower, lower */
.wolf-container.cautious .wolf {
  animation: wolfCautious 1.5s ease-in-out infinite;
}

@keyframes wolfCautious {
  0%, 100% { transform: translateX(0) rotate(0deg); }
  25% { transform: translateX(-3px) rotate(-2deg); }
  75% { transform: translateX(3px) rotate(1deg); }
}

/* Paused: Just breathing */
.wolf-container.paused .wolf {
  animation: wolfBreath 3s ease-in-out infinite;
}

@keyframes wolfBreath {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

/* Subtitle */
.wolf-subtitle {
  color: var(--text-2, #888);
  font-size: 1.0625rem;
  line-height: 1.5556;
  text-align: center;
  text-wrap: balance;
  max-width: 600px;
  margin: 0;
  opacity: 0;
  animation: fadeInSubtitle 1s ease-out 2s forwards;
}

@keyframes fadeInSubtitle {
  to { opacity: 1; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .wolf-container { display: none; }
  .letter { transition: none !important; }
  .wolf-subtitle { opacity: 1; animation: none; }
}

/* Mobile adjustments */
@media (max-width: 640px) {
  .wolf-hero { min-height: 35vh; }
  .wolf { width: 100px; }
  .wolf-container { transform: translateY(-75%); }
  
  @keyframes wolfJump {
    0% { transform: translateY(0); }
    50% { transform: translateY(-50px); }
    100% { transform: translateY(0); }
  }
}
